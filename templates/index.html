<!doctype html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Loja de Bicicleta</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
<div class="container-md" id="corpo">
    <h1>Sistema de Cadastro e Vendas de Bikes</h1>
            <form action="{{ url_for('bike.adicionar') }}" method="post">
                <div class="row">
                    <div class="mb-3">
                        <input type="text" class="form-control" name="modelo" placeholder="Insira o modelo" required><br>
                    </div>
                     <div class="mb-3">
                            <select class="form-select" id="categoria" name="categoria">
                            <option selected> Selecione uma categoria</option>
                            <option value="mountain-bike">Mountain Bike</option>
                            <option value="corrida">Corrida</option>
                            <option value="bmx">BMX</option>
                            <option value="passeio">Passeio</option>
                            <option value="downhill">Downhill</option>
                    </select>
                     </div>
                    <div class="row">
                        <div class="col-md-8">
                        <input type="number" class="form-control" name="preco" placeholder="Valor da Bicicleta" required>
                        </div>
                        <div class="col">
                        <button type="submit" class="btn btn-primary mb-3">Adicionar</button>
                        </div>
                    </div>
                    </div>

            </form>

    <ul class="list-group">
        {% for bike in bikes %}
        <li class="list-group-item">

            {% if bike.status %}
            <del>{{loop.index}} - {{ bike.modelo}} - {{bike.categoria}} - {{bike.preco }}</del> - Vendida
            {% else %}
            {{ loop.index}} - {{ bike.modelo }} - {{bike.categoria}} - {{bike.preco }} - Dispon√≠vel
            {% endif %}
            {% if not bike.status %}
            <a href="{{ url_for('bike.remover', bike_id=loop.index0) }}" class="remover">[Remover]</a><a href="{{ url_for('bike.vendida', bike_id=loop.index0) }}">[Vender]</a>


            {% endif %}
        </li>
        {% endfor %}
    </ul>
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        <div class="alert alert-warning alert-dismissible fade show" role="alert">
            <ul class"list-group>
            {% for category, message in messages %}
                <li class="list-group-item list-group-item-warning {{ category }}">{{ message }}</li>
            {% endfor %}
            </ul>
             <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
    </div>
        {% endif %}
    {% endwith %}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>

</html>